<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sun Simulator - Stellar Evolution</title>
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  </head>
  <body>
    <div id="app">
      <!-- Start Screen Overlay -->
      <div id="start-screen">
        <div class="start-screen-content">
          <h1 class="start-title">‚òÄÔ∏è Sun Simulator</h1>
          <p class="start-subtitle">Experience the complete lifecycle of a star</p>
          <p class="start-description">
            Watch as cosmic dust collapses into a protostar, ignites fusion,
            expands into a red giant, and explodes in a supernova to form a black hole.
          </p>
          <button id="btn-start" class="start-btn">Begin Simulation</button>
        </div>
      </div>

      <canvas id="canvas"></canvas>

      <!-- Main Info Panel -->
      <div id="controls">
        <h1>‚òÄÔ∏è Sun Simulator</h1>
        <div id="phase-info">
          <span id="current-phase">Initializing...</span>
        </div>
        <div id="phase-description" style="margin-top: 8px; font-size: 12px; color: #999; max-width: 280px; line-height: 1.4;">
          Watch as a star is born from a nebula, lives its life, and dies in spectacular fashion.
        </div>
        <div id="debug-info" style="margin-top: 10px; font-size: 12px; font-family: monospace; color: #888;">
          <div id="debug-radius"></div>
        </div>
      </div>

      <!-- Interactive Controls Panel -->
      <div id="interactive-controls">
        <div class="control-group">
          <button id="btn-play-pause" class="control-btn">‚è∏Ô∏è Pause</button>
          <button id="btn-reset" class="control-btn">üîÑ Reset</button>
        </div>

        <div class="control-group" style="margin-top: 10px;">
          <label for="speed-control" style="font-size: 12px; color: #aaa;">Speed</label>
          <input type="range" id="speed-control" min="0.1" max="5" step="0.1" value="1" style="width: 100%;">
          <span id="speed-display" style="font-size: 11px; color: #888;">1.0x</span>
        </div>

        <div class="control-group" style="margin-top: 10px;">
          <button id="btn-fullscreen" class="control-btn">‚õ∂ Fullscreen</button>
        </div>

        <div style="margin-top: 10px; font-size: 10px; color: #666; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px;">
          <strong>Controls:</strong> Mouse drag to rotate ‚Ä¢ Scroll to zoom<br>
          <strong>Keys:</strong> Space = pause ‚Ä¢ R = reset ‚Ä¢ F = fullscreen
        </div>
      </div>

      <!-- Debug Overlay -->
      <div id="debug-overlay" style="display: none; position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.8); color: #0f0; padding: 15px; border: 1px solid #0f0; font-family: 'Courier New', monospace; font-size: 11px; min-width: 250px; z-index: 1000;">
        <div style="margin-bottom: 10px; font-size: 13px; font-weight: bold; color: #0ff;">DEBUG MODE</div>

        <div style="margin-bottom: 8px;">
          <div style="color: #888;">--- STATS ---</div>
          <div>FPS: <span id="debug-fps">--</span></div>
          <div>Phase: <span id="debug-phase">--</span></div>
        </div>

        <div style="margin-bottom: 8px;">
          <div style="color: #888;">--- BLACK HOLE ---</div>
          <div>Mass: <span id="debug-mass">--</span></div>
          <div>Radius: <span id="debug-bh-radius">--</span></div>
        </div>

        <div style="margin-bottom: 8px;">
          <div style="color: #888;">--- PARTICLES ---</div>
          <div>Sources: <span id="debug-source-particles">--</span></div>
          <div>Remnant: <span id="debug-remnant-particles">--</span></div>
          <div>Total: <span id="debug-total-particles">--</span></div>
        </div>

        <div style="margin-bottom: 8px;">
          <div style="color: #888; display: flex; justify-content: space-between; align-items: center;">
            <span>--- BLOOM ---</span>
            <button id="debug-bloom-reset" style="font-size: 9px; padding: 2px 6px; background: rgba(0,255,0,0.1); border: 1px solid #0f0; color: #0f0; cursor: pointer; font-family: 'Courier New', monospace;">RESET</button>
          </div>
          <div style="font-size: 10px; margin-bottom: 4px;">
            Strength: <span id="debug-bloom-strength-val">0.80</span>
            <input type="range" id="debug-bloom-strength" min="0" max="5" step="0.1" value="0.8" class="debug-slider">
          </div>
          <div style="font-size: 10px; margin-bottom: 4px;">
            Threshold: <span id="debug-bloom-threshold-val">0.85</span>
            <input type="range" id="debug-bloom-threshold" min="0" max="1" step="0.05" value="0.85" class="debug-slider">
          </div>
          <div style="font-size: 10px; margin-bottom: 4px;">
            Radius: <span id="debug-bloom-radius-val">0.40</span>
            <input type="range" id="debug-bloom-radius" min="0" max="2" step="0.1" value="0.4" class="debug-slider">
          </div>
          <div style="font-size: 10px; margin-bottom: 4px;">
            EH Glow: <span id="debug-eh-glow-val">2.00</span>
            <input type="range" id="debug-eh-glow" min="0" max="20" step="0.5" value="2.0" class="debug-slider">
          </div>
          <div style="font-size: 10px; margin-bottom: 4px;">
            Lensing: <span id="debug-lensing-strength-val">0.80</span>
            <input type="range" id="debug-lensing-strength" min="0" max="5" step="0.1" value="0.8" class="debug-slider">
          </div>
        </div>

        <div style="margin-top: 10px; padding-top: 8px; border-top: 1px solid #0f0;">
          <div style="color: #888;">--- TOGGLES ---</div>
          <div style="font-size: 10px; line-height: 1.4;">
            D = This overlay<br>
            1 = Accretion disk<br>
            2 = Jets<br>
            3 = Event horizon<br>
            4 = Lensing ring<br>
            5 = Accretion sources<br>
            6 = Supernova remnant<br>
            7 = Red giant layers<br>
            L = Lights<br>
            B = Bloom<br>
            G = Film grain<br>
            V = Vignette<br>
            A = Toggle all
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
